"use strict";(globalThis.webpackChunktududi_docs=globalThis.webpackChunktududi_docs||[]).push([[956],{8453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>d});var a=s(6540);const r={},t=a.createContext(r);function i(e){const n=a.useContext(t);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),a.createElement(t.Provider,{value:n},e.children)}},9509:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>p,frontMatter:()=>i,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"api/users","title":"Users API","description":"User management and profile endpoints.","source":"@site/docs/api/users.md","sourceDirName":"api","slug":"/api/users","permalink":"/api/users","draft":false,"unlisted":false,"editUrl":"https://github.com/tududi/tududi-docs/tree/master/docs/api/users.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4}}');var r=s(4848),t=s(8453);const i={sidebar_position:4},d="Users API",l={},c=[{value:"Get Current User",id:"get-current-user",level:2},{value:"Response",id:"response",level:3},{value:"Update Current User",id:"update-current-user",level:2},{value:"Response",id:"response-1",level:3},{value:"Change Password",id:"change-password",level:2},{value:"Response",id:"response-2",level:3},{value:"Get User Statistics",id:"get-user-statistics",level:2},{value:"Response",id:"response-3",level:3},{value:"User Preferences",id:"user-preferences",level:2},{value:"Get Preferences",id:"get-preferences",level:3},{value:"Update Preferences",id:"update-preferences",level:3},{value:"Avatar",id:"avatar",level:2},{value:"Upload Avatar",id:"upload-avatar",level:3},{value:"Delete Avatar",id:"delete-avatar",level:3},{value:"User Activity",id:"user-activity",level:2},{value:"Get Activity Log",id:"get-activity-log",level:3},{value:"Response",id:"response-4",level:3},{value:"Connected Apps",id:"connected-apps",level:2},{value:"List Connected Apps",id:"list-connected-apps",level:3},{value:"Revoke App Access",id:"revoke-app-access",level:3},{value:"Export Data",id:"export-data",level:2},{value:"Response",id:"response-5",level:3},{value:"Delete Account",id:"delete-account",level:2},{value:"Admin Endpoints",id:"admin-endpoints",level:2},{value:"List All Users",id:"list-all-users",level:3},{value:"Get User by ID",id:"get-user-by-id",level:3},{value:"Update User",id:"update-user",level:3},{value:"Delete User",id:"delete-user",level:3},{value:"Ban User",id:"ban-user",level:3},{value:"Unban User",id:"unban-user",level:3},{value:"Error Responses",id:"error-responses",level:2},{value:"Invalid Password (400)",id:"invalid-password-400",level:3},{value:"Weak Password (400)",id:"weak-password-400",level:3},{value:"Examples",id:"examples",level:2},{value:"Update User Profile",id:"update-user-profile",level:3},{value:"Change Password",id:"change-password-1",level:3},{value:"Next Steps",id:"next-steps",level:2}];function o(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"users-api",children:"Users API"})}),"\n",(0,r.jsx)(n.p,{children:"User management and profile endpoints."}),"\n",(0,r.jsx)(n.h2,{id:"get-current-user",children:"Get Current User"}),"\n",(0,r.jsx)(n.p,{children:"Get the authenticated user's profile."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"GET /api/users/me\n"})}),"\n",(0,r.jsx)(n.h3,{id:"response",children:"Response"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "id": 1,\n    "username": "user@example.com",\n    "name": "John Doe",\n    "email": "user@example.com",\n    "preferences": {\n      "language": "en",\n      "timezone": "America/New_York",\n      "theme": "light"\n    },\n    "createdAt": "2025-01-01T00:00:00Z",\n    "updatedAt": "2025-10-25T10:00:00Z"\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"update-current-user",children:"Update Current User"}),"\n",(0,r.jsx)(n.p,{children:"Update the authenticated user's profile."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:'PUT /api/users/me\nContent-Type: application/json\n\n{\n  "name": "John Smith",\n  "preferences": {\n    "language": "es",\n    "theme": "dark"\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"response-1",children:"Response"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "id": 1,\n    "name": "John Smith",\n    "preferences": {\n      "language": "es",\n      "timezone": "America/New_York",\n      "theme": "dark"\n    },\n    "updatedAt": "2025-10-25T15:00:00Z"\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"change-password",children:"Change Password"}),"\n",(0,r.jsx)(n.p,{children:"Change the current user's password."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:'POST /api/users/me/password\nContent-Type: application/json\n\n{\n  "currentPassword": "OldPassword123!",\n  "newPassword": "NewPassword456!"\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"response-2",children:"Response"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "message": "Password updated successfully"\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"get-user-statistics",children:"Get User Statistics"}),"\n",(0,r.jsx)(n.p,{children:"Get task statistics for the current user."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"GET /api/users/me/stats\n"})}),"\n",(0,r.jsx)(n.h3,{id:"response-3",children:"Response"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "totalTasks": 245,\n    "completedTasks": 189,\n    "incompleteTasks": 56,\n    "overdueTasks": 8,\n    "tasksThisWeek": 23,\n    "completionRate": 0.77,\n    "averageTimeToComplete": 172800000,\n    "productivityTrend": "increasing"\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"user-preferences",children:"User Preferences"}),"\n",(0,r.jsx)(n.h3,{id:"get-preferences",children:"Get Preferences"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"GET /api/users/me/preferences\n"})}),"\n",(0,r.jsx)(n.h3,{id:"update-preferences",children:"Update Preferences"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:'PUT /api/users/me/preferences\nContent-Type: application/json\n\n{\n  "language": "fr",\n  "timezone": "Europe/Paris",\n  "theme": "dark",\n  "dateFormat": "DD/MM/YYYY",\n  "timeFormat": "24h",\n  "notifications": {\n    "email": true,\n    "telegram": false,\n    "desktop": true\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"avatar",children:"Avatar"}),"\n",(0,r.jsx)(n.h3,{id:"upload-avatar",children:"Upload Avatar"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"POST /api/users/me/avatar\nContent-Type: multipart/form-data\n\navatar: [image file]\n"})}),"\n",(0,r.jsx)(n.h3,{id:"delete-avatar",children:"Delete Avatar"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"DELETE /api/users/me/avatar\n"})}),"\n",(0,r.jsx)(n.h2,{id:"user-activity",children:"User Activity"}),"\n",(0,r.jsx)(n.h3,{id:"get-activity-log",children:"Get Activity Log"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"GET /api/users/me/activity?limit=50&offset=0\n"})}),"\n",(0,r.jsx)(n.h3,{id:"response-4",children:"Response"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "data": [\n    {\n      "id": 1,\n      "action": "task.created",\n      "description": "Created task: Complete project proposal",\n      "metadata": {\n        "taskId": 42,\n        "taskTitle": "Complete project proposal"\n      },\n      "timestamp": "2025-10-25T15:00:00Z"\n    },\n    {\n      "id": 2,\n      "action": "task.completed",\n      "description": "Completed task: Review documentation",\n      "metadata": {\n        "taskId": 38\n      },\n      "timestamp": "2025-10-25T14:30:00Z"\n    }\n  ],\n  "pagination": {\n    "total": 150,\n    "limit": 50,\n    "offset": 0,\n    "hasMore": true\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"connected-apps",children:"Connected Apps"}),"\n",(0,r.jsx)(n.h3,{id:"list-connected-apps",children:"List Connected Apps"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"GET /api/users/me/connected-apps\n"})}),"\n",(0,r.jsx)(n.h3,{id:"revoke-app-access",children:"Revoke App Access"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"DELETE /api/users/me/connected-apps/:appId\n"})}),"\n",(0,r.jsx)(n.h2,{id:"export-data",children:"Export Data"}),"\n",(0,r.jsx)(n.p,{children:"Request a data export (GDPR compliance)."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:'POST /api/users/me/export\nContent-Type: application/json\n\n{\n  "format": "json"\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"response-5",children:"Response"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "message": "Export requested. You will receive an email when it\'s ready.",\n  "exportId": "exp_123456"\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"delete-account",children:"Delete Account"}),"\n",(0,r.jsx)(n.p,{children:"Permanently delete the user account."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:'DELETE /api/users/me\nContent-Type: application/json\n\n{\n  "password": "MyPassword123!",\n  "confirmation": "DELETE"\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"admin-endpoints",children:"Admin Endpoints"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"Note: Requires admin privileges"})}),"\n",(0,r.jsx)(n.h3,{id:"list-all-users",children:"List All Users"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"GET /api/admin/users\n"})}),"\n",(0,r.jsx)(n.h3,{id:"get-user-by-id",children:"Get User by ID"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"GET /api/admin/users/:id\n"})}),"\n",(0,r.jsx)(n.h3,{id:"update-user",children:"Update User"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"PUT /api/admin/users/:id\n"})}),"\n",(0,r.jsx)(n.h3,{id:"delete-user",children:"Delete User"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"DELETE /api/admin/users/:id\n"})}),"\n",(0,r.jsx)(n.h3,{id:"ban-user",children:"Ban User"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"POST /api/admin/users/:id/ban\n"})}),"\n",(0,r.jsx)(n.h3,{id:"unban-user",children:"Unban User"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-http",children:"POST /api/admin/users/:id/unban\n"})}),"\n",(0,r.jsx)(n.h2,{id:"error-responses",children:"Error Responses"}),"\n",(0,r.jsx)(n.h3,{id:"invalid-password-400",children:"Invalid Password (400)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "success": false,\n  "error": {\n    "code": "INVALID_PASSWORD",\n    "message": "Current password is incorrect"\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"weak-password-400",children:"Weak Password (400)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "success": false,\n  "error": {\n    "code": "WEAK_PASSWORD",\n    "message": "Password does not meet requirements"\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,r.jsx)(n.h3,{id:"update-user-profile",children:"Update User Profile"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const response = await fetch('http://localhost:3000/api/users/me', {\n  method: 'PUT',\n  headers: {\n    'Content-Type': 'application/json'\n  },\n  credentials: 'include',\n  body: JSON.stringify({\n    name: 'Jane Doe',\n    preferences: {\n      language: 'es',\n      theme: 'dark',\n      timezone: 'Europe/Madrid'\n    }\n  })\n});\n\nconst data = await response.json();\nconsole.log('Profile updated:', data);\n"})}),"\n",(0,r.jsx)(n.h3,{id:"change-password-1",children:"Change Password"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const response = await fetch('http://localhost:3000/api/users/me/password', {\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json'\n  },\n  credentials: 'include',\n  body: JSON.stringify({\n    currentPassword: 'OldPassword123!',\n    newPassword: 'NewPassword456!'\n  })\n});\n\nif (response.ok) {\n  console.log('Password changed successfully');\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/api/authentication",children:"Authentication API"})," - User authentication"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/api/tasks",children:"Tasks API"})," - Task management"]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}}}]);