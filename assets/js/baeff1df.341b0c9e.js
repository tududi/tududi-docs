"use strict";(globalThis.webpackChunktududi_docs=globalThis.webpackChunktududi_docs||[]).push([[864],{7969:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"api/authentication","title":"Authentication API","description":"Detailed documentation for Tududi\'s authentication endpoints.","source":"@site/docs/api/authentication.md","sourceDirName":"api","slug":"/api/authentication","permalink":"/docs/api/authentication","draft":false,"unlisted":false,"editUrl":"https://github.com/tududi/tududi-docs/tree/main/docs/api/authentication.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"API Overview","permalink":"/docs/api/overview"},"next":{"title":"Tasks API","permalink":"/docs/api/tasks"}}');var i=s(4848),r=s(8453);const a={sidebar_position:2},o="Authentication API",c={},l=[{value:"Overview",id:"overview",level:2},{value:"Endpoints",id:"endpoints",level:2},{value:"Register",id:"register",level:3},{value:"Login",id:"login",level:3},{value:"Logout",id:"logout",level:3},{value:"Check Status",id:"check-status",level:3},{value:"Session Management",id:"session-management",level:2},{value:"Session Cookie",id:"session-cookie",level:3},{value:"Session Expiry",id:"session-expiry",level:3},{value:"Security",id:"security",level:2},{value:"Password Requirements",id:"password-requirements",level:3},{value:"Rate Limiting",id:"rate-limiting",level:3},{value:"CSRF Protection",id:"csrf-protection",level:3},{value:"Examples",id:"examples",level:2},{value:"cURL",id:"curl",level:3},{value:"JavaScript (fetch)",id:"javascript-fetch",level:3},{value:"Python (requests)",id:"python-requests",level:3},{value:"Error Codes",id:"error-codes",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"authentication-api",children:"Authentication API"})}),"\n",(0,i.jsx)(n.p,{children:"Detailed documentation for Tududi's authentication endpoints."}),"\n",(0,i.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsx)(n.p,{children:"Tududi uses session-based authentication with secure HTTP-only cookies."}),"\n",(0,i.jsx)(n.h2,{id:"endpoints",children:"Endpoints"}),"\n",(0,i.jsx)(n.h3,{id:"register",children:"Register"}),"\n",(0,i.jsx)(n.p,{children:"Create a new user account."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:'POST /api/auth/register\nContent-Type: application/json\n\n{\n  "username": "user@example.com",\n  "password": "SecurePassword123!",\n  "name": "John Doe"\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Response (201 Created)"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "user": {\n    "id": 1,\n    "username": "user@example.com",\n    "name": "John Doe",\n    "createdAt": "2025-10-25T12:00:00Z"\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"login",children:"Login"}),"\n",(0,i.jsx)(n.p,{children:"Authenticate and create a session."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:'POST /api/auth/login\nContent-Type: application/json\n\n{\n  "username": "user@example.com",\n  "password": "SecurePassword123!"\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Response (200 OK)"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "user": {\n    "id": 1,\n    "username": "user@example.com",\n    "name": "John Doe"\n  }\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Error Response (401 Unauthorized)"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "success": false,\n  "error": {\n    "code": "INVALID_CREDENTIALS",\n    "message": "Invalid username or password"\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"logout",children:"Logout"}),"\n",(0,i.jsx)(n.p,{children:"End the current session."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:"POST /api/auth/logout\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Response (200 OK)"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "message": "Logged out successfully"\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"check-status",children:"Check Status"}),"\n",(0,i.jsx)(n.p,{children:"Verify authentication status."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-http",children:"GET /api/auth/status\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Response (Authenticated)"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "authenticated": true,\n  "user": {\n    "id": 1,\n    "username": "user@example.com",\n    "name": "John Doe"\n  }\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Response (Not Authenticated)"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "authenticated": false\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"session-management",children:"Session Management"}),"\n",(0,i.jsx)(n.h3,{id:"session-cookie",children:"Session Cookie"}),"\n",(0,i.jsx)(n.p,{children:"The session is stored in an HTTP-only cookie:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Set-Cookie: connect.sid=s%3A...; Path=/; HttpOnly; SameSite=Lax\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cookie Attributes"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"HttpOnly"}),": Prevents JavaScript access"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Secure"}),": HTTPS only (production)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"SameSite=Lax"}),": CSRF protection"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Max-Age"}),": 24 hours (configurable)"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"session-expiry",children:"Session Expiry"}),"\n",(0,i.jsx)(n.p,{children:"Sessions expire after:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"24 hours of inactivity (default)"}),"\n",(0,i.jsx)(n.li,{children:"Explicit logout"}),"\n",(0,i.jsx)(n.li,{children:"Server restart (if not using persistent session store)"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"security",children:"Security"}),"\n",(0,i.jsx)(n.h3,{id:"password-requirements",children:"Password Requirements"}),"\n",(0,i.jsx)(n.p,{children:"Passwords must:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Be at least 8 characters long"}),"\n",(0,i.jsx)(n.li,{children:"Contain at least one uppercase letter"}),"\n",(0,i.jsx)(n.li,{children:"Contain at least one lowercase letter"}),"\n",(0,i.jsx)(n.li,{children:"Contain at least one number"}),"\n",(0,i.jsx)(n.li,{children:"Contain at least one special character"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"rate-limiting",children:"Rate Limiting"}),"\n",(0,i.jsx)(n.p,{children:"Login attempts are rate limited:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"5 attempts per 15 minutes per IP"}),"\n",(0,i.jsx)(n.li,{children:"10 attempts per hour per username"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"csrf-protection",children:"CSRF Protection"}),"\n",(0,i.jsx)(n.p,{children:"CSRF protection is enabled by default:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"SameSite"})," cookie attribute"]}),"\n",(0,i.jsx)(n.li,{children:"CSRF token for state-changing operations"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,i.jsx)(n.h3,{id:"curl",children:"cURL"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Register\ncurl -X POST http://localhost:3000/api/auth/register \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n    "username": "user@example.com",\n    "password": "SecurePassword123!",\n    "name": "John Doe"\n  }\'\n\n# Login\ncurl -X POST http://localhost:3000/api/auth/login \\\n  -H "Content-Type: application/json" \\\n  -c cookies.txt \\\n  -d \'{\n    "username": "user@example.com",\n    "password": "SecurePassword123!"\n  }\'\n\n# Authenticated request\ncurl http://localhost:3000/api/tasks \\\n  -b cookies.txt\n\n# Logout\ncurl -X POST http://localhost:3000/api/auth/logout \\\n  -b cookies.txt\n'})}),"\n",(0,i.jsx)(n.h3,{id:"javascript-fetch",children:"JavaScript (fetch)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"// Login\nconst response = await fetch('http://localhost:3000/api/auth/login', {\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json',\n  },\n  credentials: 'include', // Important: include cookies\n  body: JSON.stringify({\n    username: 'user@example.com',\n    password: 'SecurePassword123!'\n  })\n});\n\nconst data = await response.json();\n\n// Authenticated request\nconst tasks = await fetch('http://localhost:3000/api/tasks', {\n  credentials: 'include' // Include session cookie\n});\n\n// Logout\nawait fetch('http://localhost:3000/api/auth/logout', {\n  method: 'POST',\n  credentials: 'include'\n});\n"})}),"\n",(0,i.jsx)(n.h3,{id:"python-requests",children:"Python (requests)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"import requests\n\n# Create session to persist cookies\nsession = requests.Session()\n\n# Login\nresponse = session.post('http://localhost:3000/api/auth/login', json={\n    'username': 'user@example.com',\n    'password': 'SecurePassword123!'\n})\n\n# Authenticated request (session automatically includes cookies)\ntasks = session.get('http://localhost:3000/api/tasks')\n\n# Logout\nsession.post('http://localhost:3000/api/auth/logout')\n"})}),"\n",(0,i.jsx)(n.h2,{id:"error-codes",children:"Error Codes"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Code"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"INVALID_CREDENTIALS"})}),(0,i.jsx)(n.td,{children:"Wrong username or password"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"USER_EXISTS"})}),(0,i.jsx)(n.td,{children:"Username already taken"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"WEAK_PASSWORD"})}),(0,i.jsx)(n.td,{children:"Password doesn't meet requirements"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RATE_LIMITED"})}),(0,i.jsx)(n.td,{children:"Too many login attempts"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"SESSION_EXPIRED"})}),(0,i.jsx)(n.td,{children:"Session has expired"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"UNAUTHORIZED"})}),(0,i.jsx)(n.td,{children:"Not authenticated"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/api/tasks",children:"Tasks API"})," - Manage tasks via API"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/api/users",children:"Users API"})," - User management"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>o});var t=s(6540);const i={},r=t.createContext(i);function a(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);