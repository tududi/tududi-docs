"use strict";(globalThis.webpackChunktududi_docs=globalThis.webpackChunktududi_docs||[]).push([[844],{589:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"features/api-security","title":"API Security & Rate Limiting","description":"Tududi includes comprehensive API security features to protect your instance from abuse, brute force attacks, and unauthorized access.","source":"@site/docs/features/api-security.md","sourceDirName":"features","slug":"/features/api-security","permalink":"/features/api-security","draft":false,"unlisted":false,"editUrl":"https://github.com/tududi/tududi-docs/tree/master/docs/features/api-security.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Installation","permalink":"/getting-started/installation"},"next":{"title":"API Access","permalink":"/features/api-access"}}');var t=i(4848),r=i(8453);const l={sidebar_position:3},a="API Security & Rate Limiting",c={},o=[{value:"Overview",id:"overview",level:2},{value:"Rate Limiting",id:"rate-limiting",level:2},{value:"How It Works",id:"how-it-works",level:3},{value:"Rate Limit Tiers",id:"rate-limit-tiers",level:3},{value:"1. Authentication Endpoints",id:"1-authentication-endpoints",level:4},{value:"2. Unauthenticated API",id:"2-unauthenticated-api",level:4},{value:"3. Authenticated API",id:"3-authenticated-api",level:4},{value:"4. Resource Creation",id:"4-resource-creation",level:4},{value:"5. API Key Management",id:"5-api-key-management",level:4},{value:"Rate Limit Responses",id:"rate-limit-responses",level:3},{value:"Configuration",id:"configuration",level:3},{value:"Global Enable/Disable",id:"global-enabledisable",level:4},{value:"Per-Environment Configuration",id:"per-environment-configuration",level:4},{value:"Automatic Behavior",id:"automatic-behavior",level:4},{value:"Best Practices",id:"best-practices",level:3},{value:"API Token Authentication",id:"api-token-authentication",level:2},{value:"Features",id:"features",level:3},{value:"Creating API Tokens",id:"creating-api-tokens",level:3},{value:"Using API Tokens",id:"using-api-tokens",level:3},{value:"Managing API Tokens",id:"managing-api-tokens",level:3},{value:"List All Tokens",id:"list-all-tokens",level:4},{value:"Revoke a Token",id:"revoke-a-token",level:4},{value:"Delete a Token",id:"delete-a-token",level:4},{value:"Security Best Practices",id:"security-best-practices",level:3},{value:"Swagger API Documentation",id:"swagger-api-documentation",level:2},{value:"Accessing Documentation",id:"accessing-documentation",level:3},{value:"Security Considerations",id:"security-considerations",level:3},{value:"Configuration",id:"configuration-1",level:3},{value:"Default Behavior",id:"default-behavior",level:4},{value:"Docker Configuration",id:"docker-configuration",level:4},{value:"Access Control",id:"access-control",level:4},{value:"Development Usage",id:"development-usage",level:3},{value:"Configuration Summary",id:"configuration-summary",level:2},{value:"Quick Reference",id:"quick-reference",level:3},{value:"Production Recommendations",id:"production-recommendations",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Rate Limit Headers Missing",id:"rate-limit-headers-missing",level:3},{value:"Legitimate Users Being Rate Limited",id:"legitimate-users-being-rate-limited",level:3},{value:"Can&#39;t Access Swagger Docs",id:"cant-access-swagger-docs",level:3},{value:"API Token Not Working",id:"api-token-not-working",level:3},{value:"Security Checklist",id:"security-checklist",level:2},{value:"Related Documentation",id:"related-documentation",level:2}];function d(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"api-security--rate-limiting",children:"API Security & Rate Limiting"})}),"\n",(0,t.jsx)(n.p,{children:"Tududi includes comprehensive API security features to protect your instance from abuse, brute force attacks, and unauthorized access."}),"\n",(0,t.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsx)(n.p,{children:"The API security system provides:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Rate Limiting"}),": Prevents abuse and brute force attacks"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"API Token Authentication"}),": Secure programmatic access"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Swagger Documentation Control"}),": Protect API internals in production"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Environment-based Configuration"}),": Different security levels for dev/production"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"rate-limiting",children:"Rate Limiting"}),"\n",(0,t.jsx)(n.p,{children:"Rate limiting helps prevent:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Brute force attacks on login endpoints"}),"\n",(0,t.jsx)(n.li,{children:"API abuse and DoS attacks"}),"\n",(0,t.jsx)(n.li,{children:"Resource exhaustion"}),"\n",(0,t.jsx)(n.li,{children:"Automated scraping"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"how-it-works",children:"How It Works"}),"\n",(0,t.jsx)(n.p,{children:"Tududi implements tiered rate limiting based on:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Authentication state"}),": Different limits for authenticated vs unauthenticated users"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Endpoint sensitivity"}),": Stricter limits for authentication and API key management"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"User identification"}),": IP-based for unauthenticated, user ID-based for authenticated"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"rate-limit-tiers",children:"Rate Limit Tiers"}),"\n",(0,t.jsx)(n.h4,{id:"1-authentication-endpoints",children:"1. Authentication Endpoints"}),"\n",(0,t.jsx)(n.p,{children:"Protects login/register from brute force attacks."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Default"}),": 5 requests per 15 minutes per IP"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Applies to"}),": ",(0,t.jsx)(n.code,{children:"/api/login"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Response"}),": HTTP 429 with retry-after header"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Customize via environment variables\nRATE_LIMIT_AUTH_WINDOW_MS=900000  # 15 minutes\nRATE_LIMIT_AUTH_MAX=5              # 5 attempts\n"})}),"\n",(0,t.jsx)(n.h4,{id:"2-unauthenticated-api",children:"2. Unauthenticated API"}),"\n",(0,t.jsx)(n.p,{children:"General protection for public API endpoints."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Default"}),": 100 requests per 15 minutes per IP"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Applies to"}),": All ",(0,t.jsx)(n.code,{children:"/api/*"})," routes when not authenticated"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Bypassed"}),": Automatically when user is logged in"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"RATE_LIMIT_API_WINDOW_MS=900000    # 15 minutes\nRATE_LIMIT_API_MAX=100             # 100 requests\n"})}),"\n",(0,t.jsx)(n.h4,{id:"3-authenticated-api",children:"3. Authenticated API"}),"\n",(0,t.jsx)(n.p,{children:"More lenient limits for legitimate users."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Default"}),": 1000 requests per 15 minutes per user"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Tracking"}),": By user ID, not IP address"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Applies to"}),": All authenticated requests"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"RATE_LIMIT_AUTH_API_WINDOW_MS=900000  # 15 minutes\nRATE_LIMIT_AUTH_API_MAX=1000          # 1000 requests\n"})}),"\n",(0,t.jsx)(n.h4,{id:"4-resource-creation",children:"4. Resource Creation"}),"\n",(0,t.jsx)(n.p,{children:"Prevents spam on POST endpoints."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Default"}),": 50 requests per 15 minutes per user"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Applies to"}),": Creating tasks, projects, notes, etc."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Purpose"}),": Prevent automated resource creation"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"RATE_LIMIT_CREATE_WINDOW_MS=900000    # 15 minutes\nRATE_LIMIT_CREATE_MAX=50              # 50 creates\n"})}),"\n",(0,t.jsx)(n.h4,{id:"5-api-key-management",children:"5. API Key Management"}),"\n",(0,t.jsx)(n.p,{children:"Strictest limits for sensitive operations."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Default"}),": 10 requests per hour per user"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Applies to"}),": Creating, revoking, and deleting API keys"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Purpose"}),": Prevent API key abuse"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"RATE_LIMIT_API_KEY_WINDOW_MS=3600000  # 1 hour\nRATE_LIMIT_API_KEY_MAX=10             # 10 operations\n"})}),"\n",(0,t.jsx)(n.h3,{id:"rate-limit-responses",children:"Rate Limit Responses"}),"\n",(0,t.jsx)(n.p,{children:"When a rate limit is exceeded, you'll receive:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "error": "Rate limit exceeded",\n  "message": "You have exceeded the maximum number of requests. Please try again later.",\n  "retryAfter": 900\n}\n'})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"HTTP Status"}),": ",(0,t.jsx)(n.code,{children:"429 Too Many Requests"})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Response Headers"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"RateLimit-Limit: 100\nRateLimit-Remaining: 0\nRateLimit-Reset: 1699356000\n"})}),"\n",(0,t.jsx)(n.h3,{id:"configuration",children:"Configuration"}),"\n",(0,t.jsx)(n.h4,{id:"global-enabledisable",children:"Global Enable/Disable"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Disable all rate limiting (not recommended for production)\nRATE_LIMITING_ENABLED=false\n"})}),"\n",(0,t.jsx)(n.h4,{id:"per-environment-configuration",children:"Per-Environment Configuration"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Development"})," (recommended):"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# More lenient for testing\nRATE_LIMIT_AUTH_MAX=20\nRATE_LIMIT_API_MAX=500\nRATE_LIMIT_AUTH_API_MAX=5000\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Production"})," (recommended):"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Keep defaults strict\n# (Default values are production-ready)\n"})}),"\n",(0,t.jsx)(n.h4,{id:"automatic-behavior",children:"Automatic Behavior"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Test Environment"}),": Rate limiting is automatically disabled when ",(0,t.jsx)(n.code,{children:"NODE_ENV=test"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Production"}),": Enabled by default with conservative limits"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"best-practices",children:"Best Practices"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Keep authentication limits strict"})," (5-10 requests per 15 minutes)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Monitor rate limit headers"})," in your API responses"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Adjust authenticated limits"})," based on actual usage patterns"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Log rate limit violations"})," to detect potential attacks"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Increase limits gradually"})," if legitimate users report issues"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"api-token-authentication",children:"API Token Authentication"}),"\n",(0,t.jsx)(n.p,{children:"API tokens provide secure programmatic access to Tududi without using session cookies."}),"\n",(0,t.jsx)(n.h3,{id:"features",children:"Features"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Bearer token authentication"}),": Industry-standard authentication"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Scoped access"}),": Token-based permissions (future feature)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Revocable"}),": Instantly revoke compromised tokens"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Expirable"}),": Optional expiration dates"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Tracked"}),": Monitor last usage and creation date"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"creating-api-tokens",children:"Creating API Tokens"}),"\n",(0,t.jsx)(n.p,{children:"Via the web interface:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Navigate to Profile \u2192 Settings \u2192 API Keys"}),"\n",(0,t.jsx)(n.li,{children:'Click "Create API Key"'}),"\n",(0,t.jsx)(n.li,{children:"Provide a descriptive name"}),"\n",(0,t.jsx)(n.li,{children:"Optionally set an expiration date"}),"\n",(0,t.jsx)(n.li,{children:"Copy the token immediately (shown only once)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Via API:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'curl -X POST https://your-domain.com/api/profile/api-keys \\\n  -H "Cookie: connect.sid=your-session-cookie" \\\n  -H "Content-Type: application/json" \\\n  -d \'{"name": "My Integration", "expires_at": "2025-12-31"}\'\n'})}),"\n",(0,t.jsx)(n.p,{children:"Response:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "token": "tt_a7f3b2c9e8d1f4a6b5c2d8e9f1a3b4c5d6e7f8a9b0c1d2e3f4a5b6c7d8e9f0a1",\n  "apiKey": {\n    "id": 1,\n    "name": "My Integration",\n    "token_prefix": "tt_a7f3",\n    "created_at": "2024-11-07T12:00:00Z",\n    "expires_at": "2025-12-31T23:59:59Z"\n  }\n}\n'})}),"\n",(0,t.jsx)(n.admonition,{type:"warning",children:(0,t.jsx)(n.p,{children:"The full token is shown only once during creation. Store it securely!"})}),"\n",(0,t.jsx)(n.h3,{id:"using-api-tokens",children:"Using API Tokens"}),"\n",(0,t.jsxs)(n.p,{children:["Include the token in the ",(0,t.jsx)(n.code,{children:"Authorization"})," header:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'curl https://your-domain.com/api/tasks \\\n  -H "Authorization: Bearer tt_a7f3b2c9e8d1f4a6b5c2d8e9f1a3b4c5d6e7f8a9b0c1d2e3f4a5b6c7d8e9f0a1"\n'})}),"\n",(0,t.jsx)(n.h3,{id:"managing-api-tokens",children:"Managing API Tokens"}),"\n",(0,t.jsx)(n.h4,{id:"list-all-tokens",children:"List All Tokens"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"GET /api/profile/api-keys\n"})}),"\n",(0,t.jsx)(n.p,{children:"Returns all your API keys (tokens not included, only prefixes)."}),"\n",(0,t.jsx)(n.h4,{id:"revoke-a-token",children:"Revoke a Token"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"POST /api/profile/api-keys/{id}/revoke\n"})}),"\n",(0,t.jsx)(n.p,{children:"Marks the token as revoked. Cannot be undone."}),"\n",(0,t.jsx)(n.h4,{id:"delete-a-token",children:"Delete a Token"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"DELETE /api/profile/api-keys/{id}\n"})}),"\n",(0,t.jsx)(n.p,{children:"Permanently deletes the token."}),"\n",(0,t.jsx)(n.h3,{id:"security-best-practices",children:"Security Best Practices"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Use descriptive names"}),": Identify each token's purpose"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Set expiration dates"}),": Limit token lifetime"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Rotate regularly"}),": Create new tokens periodically"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Revoke immediately"}),": If a token is compromised"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"One token per integration"}),": Don't share tokens across services"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Store securely"}),": Use environment variables or secret managers"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Monitor usage"}),": Check ",(0,t.jsx)(n.code,{children:"last_used_at"})," timestamps"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"swagger-api-documentation",children:"Swagger API Documentation"}),"\n",(0,t.jsx)(n.p,{children:"Tududi includes interactive API documentation via Swagger UI."}),"\n",(0,t.jsx)(n.h3,{id:"accessing-documentation",children:"Accessing Documentation"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Development"}),": ",(0,t.jsx)(n.code,{children:"http://localhost:3002/api"})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Production"}),": Disabled by default (recommended)"]}),"\n",(0,t.jsx)(n.h3,{id:"security-considerations",children:"Security Considerations"}),"\n",(0,t.jsx)(n.p,{children:"API documentation reveals:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"All available endpoints"}),"\n",(0,t.jsx)(n.li,{children:"Request/response schemas"}),"\n",(0,t.jsx)(n.li,{children:"Authentication methods"}),"\n",(0,t.jsx)(n.li,{children:"Parameter requirements"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Recommendation"}),": Only enable Swagger in:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Development environments"}),"\n",(0,t.jsx)(n.li,{children:"Internal networks"}),"\n",(0,t.jsx)(n.li,{children:"Behind authentication (if needed in production)"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"configuration-1",children:"Configuration"}),"\n",(0,t.jsx)(n.h4,{id:"default-behavior",children:"Default Behavior"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// Enabled in development, disabled in production\nSWAGGER_ENABLED=false  // Force disable\nSWAGGER_ENABLED=true   // Force enable\n"})}),"\n",(0,t.jsx)(n.h4,{id:"docker-configuration",children:"Docker Configuration"}),"\n",(0,t.jsx)(n.p,{children:"Swagger is disabled in the Dockerfile:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-dockerfile",children:"ENV SWAGGER_ENABLED=false\n"})}),"\n",(0,t.jsx)(n.h4,{id:"access-control",children:"Access Control"}),"\n",(0,t.jsx)(n.p,{children:"When disabled:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"/api"})," returns HTTP 404"]}),"\n",(0,t.jsx)(n.li,{children:"Swagger routes are not registered"}),"\n",(0,t.jsx)(n.li,{children:"No documentation is served"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"When enabled:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Full interactive API documentation"}),"\n",(0,t.jsx)(n.li,{children:"Try-it-out functionality"}),"\n",(0,t.jsx)(n.li,{children:"Schema exploration"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"development-usage",children:"Development Usage"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Start tududi in development mode"}),"\n",(0,t.jsxs)(n.li,{children:["Navigate to ",(0,t.jsx)(n.code,{children:"http://localhost:3002/api"})]}),"\n",(0,t.jsx)(n.li,{children:"Explore available endpoints"}),"\n",(0,t.jsx)(n.li,{children:"Test API calls directly from the browser"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"configuration-summary",children:"Configuration Summary"}),"\n",(0,t.jsx)(n.h3,{id:"quick-reference",children:"Quick Reference"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# API Documentation\nSWAGGER_ENABLED=false                     # Disable in production\n\n# Rate Limiting\nRATE_LIMITING_ENABLED=true                # Global switch\n\n# Authentication limits (5 req/15min)\nRATE_LIMIT_AUTH_WINDOW_MS=900000\nRATE_LIMIT_AUTH_MAX=5\n\n# General API limits (100 req/15min)\nRATE_LIMIT_API_WINDOW_MS=900000\nRATE_LIMIT_API_MAX=100\n\n# Authenticated API limits (1000 req/15min)\nRATE_LIMIT_AUTH_API_WINDOW_MS=900000\nRATE_LIMIT_AUTH_API_MAX=1000\n\n# Resource creation limits (50 req/15min)\nRATE_LIMIT_CREATE_WINDOW_MS=900000\nRATE_LIMIT_CREATE_MAX=50\n\n# API key management limits (10 req/hour)\nRATE_LIMIT_API_KEY_WINDOW_MS=3600000\nRATE_LIMIT_API_KEY_MAX=10\n"})}),"\n",(0,t.jsx)(n.h3,{id:"production-recommendations",children:"Production Recommendations"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Minimal production configuration\nNODE_ENV=production\nSWAGGER_ENABLED=false\nRATE_LIMITING_ENABLED=true\n# (All other rate limit settings use secure defaults)\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,t.jsx)(n.h3,{id:"rate-limit-headers-missing",children:"Rate Limit Headers Missing"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Cause"}),": Using older client/browser",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.strong,{children:"Solution"}),": Check for ",(0,t.jsx)(n.code,{children:"RateLimit-*"})," headers in network tab"]}),"\n",(0,t.jsx)(n.h3,{id:"legitimate-users-being-rate-limited",children:"Legitimate Users Being Rate Limited"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Cause"}),": Limits too strict for usage patterns",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.strong,{children:"Solution"}),": Gradually increase ",(0,t.jsx)(n.code,{children:"RATE_LIMIT_AUTH_API_MAX"})]}),"\n",(0,t.jsx)(n.h3,{id:"cant-access-swagger-docs",children:"Can't Access Swagger Docs"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Cause"}),": Disabled in production",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.strong,{children:"Solution"}),": Set ",(0,t.jsx)(n.code,{children:"SWAGGER_ENABLED=true"})," (only if behind auth)"]}),"\n",(0,t.jsx)(n.h3,{id:"api-token-not-working",children:"API Token Not Working"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Cause"}),": Token format incorrect",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.strong,{children:"Solution"}),": Ensure full token starting with ",(0,t.jsx)(n.code,{children:"tt_"})," is used"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"security-checklist",children:"Security Checklist"}),"\n",(0,t.jsx)(n.p,{children:"Before deploying to production:"}),"\n",(0,t.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,t.jsx)(n.code,{children:"NODE_ENV=production"})]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,t.jsx)(n.code,{children:"SWAGGER_ENABLED=false"})]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ",(0,t.jsx)(n.code,{children:"RATE_LIMITING_ENABLED=true"})]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Strong ",(0,t.jsx)(n.code,{children:"TUDUDI_SESSION_SECRET"})]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","HTTPS enabled"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Proper ",(0,t.jsx)(n.code,{children:"TUDUDI_ALLOWED_ORIGINS"})]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","API tokens stored securely"]}),"\n",(0,t.jsxs)(n.li,{className:"task-list-item",children:[(0,t.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Regular security updates"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/getting-started/configuration",children:"Configuration Guide"})}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://your-domain.com/api",children:"API Reference"})," (when Swagger enabled)"]}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/getting-started/configuration#environment-variables",children:"Environment Variables"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>a});var s=i(6540);const t={},r=s.createContext(t);function l(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);